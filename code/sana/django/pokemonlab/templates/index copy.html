
{% extends 'base.html' %}

{% block content %}
<div id="app">
    <p>[[ message ]]</p> # Much better!
    <script>
        let app = new Vue({
            el: '#app',
            delimiters: ['[[', ']]'], // This is new
            data: {
                grocery_items: [],
                message: 'Hello world!',
                new_grocery_item: {
                    name: "",
                },
                methods: {
                    logMessage: function () {
                        console.log(this.message);
                    }
                },
                mounted: {
                    let crsf_token = document.querySelector("input[name=csrfmiddlewaretoken]").value;
                    axios({
                        url: '/api/grocery_item/',
                        method: 'get',
                        headers: {
                            'X-CSRFToken': csrf_token
                        }
                    }).then(res => this.grocery_items = res.data)
                });
            }
    </script>
</div>
        <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>

{% endblock %}