{% extends "base.html" %}

{% block vueComponents %}
<script>
    {% comment %} let post_card_component = {
        props: ['post_details'],
        template:  `<div class="row">
                        <div class="col s12">
                            <div class="card">
                                <div class="card-content">
                                    <span class="card-title"><a :href=post_details.url>[[ post_details.title ]]</a></span>
                                    <template v-if="(post_details.published_at > post_details.updated_at)">
                                        <p>Posted by <a :href=post_details.author_url>[[ post_details.author_name ]]</a> on [[ post_details.published_at ]]</p>
                                    </template>
                                    <template v-else>
                                        <p>Posted by <a :href=post_details.author_url>[[ post_details.author_name ]]</a> on <em>[[ post_details.updated_at ]] (updated)</em></p>
                                    </template>
                                </div>
                                
                                <div class="card-content">
                                    <p>[[ post_details.short_body ]]</p>
                                </div>
                                
                                <div class="card-action">
                                    <button class="waves-effect waves-light btn-small orange darken-2 {% if not user.is_authenticated %}disabled{% endif %}" v-on:click="$emit(\'vote\', post_details.id)"><i class="tiny material-icons amber-text text-lighten-2 left">hotel_class</i>[[ post_details.votes ]]</button>
                                </div>
                            </div>
                        </div>
                    </div>`
    }; {% endcomment %}
</script>
{% endblock %}